/************************
Theme Name: m20T1
Theme URI: https://github.com/midkiffaries/m20T1
Author: Ted Balmer
Author URI: https://marchtwenty.com/
Description: This is simply a WordPress theme that I created from scratch, that I use on my own website. The intention is for this theme is to be minimally reliant on 3rd party plugins, and to do what it needs to do relying on the built in WordPress automation and features. 
Requires at least: 6.0
Tested up to: 6.1.1
Requires PHP: 7.4 and above
Version: 1.2.1
License: GNU General Public License v3 or later
License URI: https://www.gnu.org/licenses/gpl-3.0.html
Text Domain: m20t1
Tags: original, one-column, custom-colors, custom-menu, custom-logo, featured-images, sticky-post, threaded-comments, accessibility-ready, footer-widgets, flexible-header, editor-style, portfolio, news
************************/

/* Import External Fonts */
/*
@import url('https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,300;0,400;0,600;0,700;0,900;1,400;1,600&family=Permanent+Marker&display=swap');
*/

/* Site Variables */
:root {
	--brand-color: #40A5FF;
	--brand-color-pale: #8CC9FF;
	--brand-color-dark: #205380;
	--secondary-color: #e65100;
	--tertiary-color: #ffd726;
	--quaternary-color: #bada55;
	--highlight-color: rgba(55,161,255,0.7);

	--header-link-color: #000;
	--body-link-color: var(--brand-color);
	--page-background: #fdfdfd;
	--comment-background: rgba(0,0,0,0.05);

	--footer-bg-color: #212121;
	--footer-bg-image: linear-gradient(135deg, rgba(234,234,234,0.06) 0%, rgba(234,234,234,0.06) 50%,rgba(169,169,169,0.06) 50%, rgba(169,169,169,0.06) 100%),linear-gradient(90deg, rgb(20,20,20),rgb(20,20,20));

	--body-top-background: linear-gradient(0deg, rgba(254,254,254,1) 8%, rgba(254,254,254,0.3) 66%), 
						linear-gradient(45deg, rgba(254,254,254,1) 25%, rgba(254,254,254,0) 80%),
						url("data:image/svg+xml,<svg id='patternId' width='100%' height='100%' xmlns='http://www.w3.org/2000/svg'><defs><pattern id='a' patternUnits='userSpaceOnUse' width='40' height='40' patternTransform='scale(1) rotate(0)'><rect x='0' y='0' width='100%' height='100%' fill='none'/><path d='M40 45a5 5 0 110-10 5 5 0 010 10zM0 45a5 5 0 110-10 5 5 0 010 10zM0 5A5 5 0 110-5 5 5 0 010 5zm40 0a5 5 0 110-10 5 5 0 010 10z'  stroke-width='1' stroke='none' fill='hsla(0,0%,0%,0.06)'/><path d='M20 25a5 5 0 110-10 5 5 0 010 10z'  stroke-width='1' stroke='none' fill='hsla(0,0%,0%,0.06)'/></pattern></defs><rect width='800%' height='800%' transform='translate(-69,-69)' fill='url(%23a)'/></svg>");
	--body-bottom-background: linear-gradient(0deg, rgba(254,254,254,0.6) 5%, rgba(254,254,254,1) 100%), 
						url("data:image/svg+xml,<svg id='patternId' width='100%' height='100%' xmlns='http://www.w3.org/2000/svg'><defs><pattern id='a' patternUnits='userSpaceOnUse' width='20' height='40' patternTransform='scale(4) rotate(0)'><rect x='0' y='0' width='100%' height='100%' fill='none'/><path d='M0 30h20L10 50zm-10-20h20L0 30zm20 0h20L20 30zM0-10h20L10 10z'  stroke-width='0.5' stroke='hsla(0, 0%, 0%, 0.1)' fill='none'/></pattern></defs><rect width='800%' height='800%' transform='translate(0,0)' fill='url(%23a)'/></svg>");

	--button-base-color: var(--brand-color);
	--button-text-color: #fff;

	--font-primary: 'Montserrat', sans-serif;
	--font-secondary: 'Permanent Marker', sans-serif;
	--font-tertiary: 'Georgia', serif;

	--p-font-size: 1.2rem;

	accent-color: var(--brand-color);
	caret-color: var(--brand-color);
}

/* Text Selection */
::-moz-selection {
    background-color: var(--highlight-color);
    text-shadow: none;
}

::selection {
    background-color: var(--highlight-color);
    text-shadow: none;
}

/************************ 
Global Typography
************************/

body {
	font-family: var(--font-primary);
	text-rendering: auto;
	font-weight: 400;
	font-display: swap;
}

/* Use the secondary font */
.font-secondary {
	font-family: var(--font-secondary);
}


/************************************
Typography for the page body
************************************/

/* Blog Page title */
.page-title,
.single-entry-title,
.blog-page-title h1 {
	font-size: 3.6rem;
	background-color: var(--secondary-color);
	background-image: linear-gradient(0deg, #e65100 0%, #f4971c 54%, #ffe700 100%);
	-webkit-background-clip: text;
	background-clip: text;
	-webkit-text-fill-color: transparent;
	filter: drop-shadow(2px 2px 0 rgba(0,0,0,0.8));
}

@media (max-width: 849px) {
	.page-title,
	.single-entry-title,
	.blog-page-title h1 {
		font-size: 2.7em;
	}
}

/* Subtitle */
.archive-header-container .subtitle,
.page-subtitle,
.blog-page-title p {
	font-family: var(--font-secondary);
	color: #444;
	font-size: 1.5rem;
	margin: -0.5em 0.5em 1em !important;
}

.single-entry-sticky:not(:empty) {
	border-radius: 0.5em;
	box-shadow: 4px 4px 0 0 rgba(0,0,0,0.7);
	background-color: var(--tertiary-color);
}

.page-subtitle {
	margin: 0.5em 0.2em 0 !important;
}


/************************************
Basic WordPress Editor Styling
************************************/

.the-content h1 { /* Page Title */
	color: var(--secondary-color);
}

.the-content h2:not(.page-subtitle):not(.has-text-align-center) {
	font-weight: 600;
	margin-top: 0.8em;
	/* border-bottom: 3px solid rgba(0,0,0,0.03);
	border-radius: 0 0 0 9px; */
}

.the-content h3 {
	font-weight: 500;
}

.the-content h4 {
	font-weight: auto;
}

.the-content h5 {
	font-weight: auto;
}

.the-content h6 {
	font-weight: auto;
}

.the-content p {
	font-size: clamp(0.5rem, 0.5rem + 2vw, var(--p-font-size));
	line-height: 1.7;
}

.the-content li:not(.wp-social-link) {
	font-size: clamp(0.5rem, 0.5rem + 2vw, var(--p-font-size));
	line-height: 1.5;
}

.the-content li::marker {
	color: var(--secondary-color);
	font-size: 1.5rem;
	line-height: 1;
}

.the-content p code {
	font-size: inherit;
}

.the-content figure img[src$='.jpg'],
.the-content figure img[src$='.webp'] {
	box-shadow: 7px 7px 0 0 #888, -9px -9px 0 0 var(--brand-color-pale);
	transition: box-shadow 0.5s ease-in-out;
}

.the-content figure a img[src$='.jpg']:hover,
.the-content figure a img[src$='.webp']:hover {
	transform: scale(1.01);
	box-shadow: 13px 13px 0 0 #888, -12px -12px 0 0 var(--brand-color-pale);
}

.the-content figcaption {
	padding-top: 4px;
}

.the-content blockquote:not(.is-style-plain) {
	padding-left: 0.7em;
	border-left: 6px solid var(--tertiary-color);
}

.the-content .wp-block-gallery figure a img {
	box-shadow: none;
	border: 3px solid var(--brand-color-dark);
	transition: all 0.2s ease-in-out;
}

.the-content .wp-block-gallery figure a img:hover {
	transform: scale(1.03);
	box-shadow: 4px 4px 0 0 rgba(0,0,0,0.2);
}

.the-content .wp-block-gallery figcaption {
	background: none !important;
	color: #666 !important;
	font-weight: 500;
	font-size: 0.9rem;
	margin-bottom: -2em !important;
	z-index: -1 !important;
}

.the-content blockquote p {
	margin: 0.2em 0;
	font-style: italic;
}

.the-content blockquote p::before {
	content: '“';
	font-size: 1.2rem;
}

.the-content blockquote p::after {
	content: '”';
	font-size: 1.2rem;
}

.the-content blockquote cite {
	font-size: smaller;
	font-style: normal;
	margin-left: 0.5em;
}

.the-content figure.alignright,
.the-content figure.alignleft {
	margin: 0.1rem 0.9rem 1rem;
}

.the-content figure.aligncenter {
	margin: 0.2rem auto;
}

/* Body content links */
.the-content a[href] {
	color: var(--brand-color);
	transition: color 0.25s;
}

.the-content a[href]:hover {
	color: var(--brand-color-pale);
	text-decoration-color: var(--brand-color-dark);
}

.the-content a[href]:active {
	color: var(--brand-color-dark);
}


/************************************
Sidebar and Widgets Styling
***********************************/

.widget_block h4 {
	text-transform: uppercase;
	font-size: 1.2rem;
	font-weight: 700;
}

.page-sidebar {
	font-size: 1em;
}

.page-sidebar a {
	line-height: 1.2;
}

.page-sidebar ul {
	padding-left: 1.5rem;
}

.singlepost-widgets {
	font-size: inherit;
}

.blogroll-widgets {
	font-size: inherit;
}

.frontpage-widgets {
	font-size: inherit;
}

.archive-widgets {
	font-size: inherit;
}

.attachment-widgets {
	font-size: inherit;
}

.page-sidebar .widget_recent_entries ul li {
	margin-bottom: 10px;
}

/* Sidebar links */
.page-sidebar a[href] {
	text-decoration: none;
	transition: color 0.25s;
}

.page-sidebar a[href]:hover {
	text-decoration: underline;
	color: var(--brand-color);
}

.page-sidebar a[href]:active {
	color: var(--brand-color-dark);
}

/* Hide extra label for side bar widgets */
.widget_archive label {
	display: none;
}


/************************ 
Form Element Styling
************************/

/* Input & Textarea Types */
[type="search"],
[type="text"],
[type="email"],
[type="url"],
textarea,
select {
	border-width: 2px;
	transition: all 0.4s;
}

[type="search"]:hover,
[type="text"]:hover,
[type="email"]:hover,
[type="url"]:hover,
textarea:hover,
select:hover {
	border-color: var(--brand-color-dark);
}

[type="search"]:focus,
[type="text"]:focus,
[type="email"]:focus,
[type="url"]:focus,
textarea:focus,
select:focus {
	outline: none;
	box-shadow: 0 0 2px 1px var(--brand-color);
	border-color: var(--brand-color);
}

/* Buttons */
button,
[type="submit"],
[type="reset"] {
	color: var(--button-text-color);
	background-color: var(--button-base-color);
	border-width: 2px;
	border-color: transparent;
	transition: filter 0.5s;
}

button:hover,
[type="submit"]:hover,
[type="reset"]:hover {
	filter: brightness(1.2);
}

button:active,
[type="submit"]:active,
[type="reset"]:active {
	filter: brightness(0.8);
}

button:focus,
[type="submit"]:focus,
[type="reset"]:focus {
	outline: none;
	border-color: var(--brand-color-dark);
}


/************************ 
Blog Post Styling
************************/

/* Pagination links */
.blog-pagination nav a {
	border-radius: 0.3em;
	border-bottom: 2px solid transparent;
	font-weight: 500;
	transition: all 0.4s;
}

.blog-pagination nav a:hover {
	color: #fff;
	background-color: var(--secondary-color);
	border-bottom-color: rgba(0,0,0,0.4);
}

.blog-pagination nav a:active {
	filter: brightness(75%);
}


/************************ 
Global Page Styling
************************/

/* Site header text highlights */
.header-logo {
	filter: drop-shadow(1px 1px 0 rgba(255,255,255,0.2));
	transition: opacity 0.2s ease-in-out;
	opacity: 1;
}

.dark-mode .header-logo {
	filter: drop-shadow(1px 1px 0 #111);
}

.header-logo:hover {
	opacity: 0.8;
}

.nav-primary-navigation,
.header-widgets {
	text-transform: uppercase;
	filter: drop-shadow(1px 1px 0 rgba(255,255,255,0.6));
}

.dark-mode .nav-primary-navigation,
.dark-mode .header-widgets {
	filter: none;
}

/* Page Footer */
.page-footer {
	background-color: var(--footer-bg-color);
	background-image: var(--footer-bg-image); 
	background-size: 72px 72px;
	position: relative;
}

/* Add saw effect to top of footer */
.page-footer::before {
    background: linear-gradient(-45deg, var(--footer-bg-color) 16px, transparent 0), linear-gradient(45deg, var(--footer-bg-color) 16px, transparent 0);
    background-position: left-bottom;
    background-repeat: repeat-x;
    background-size: 32px 32px;
    content: "";
    display: block;
    position: absolute;
    top: -28px;
    left: 0;
    width: 100%;
    height: 35px;
	filter: drop-shadow(-4px -1px 0px #aaa);
}

/* Footer Widgets */
.footer-widgets  .widget_nav_menu a {
	font-size: 1.2rem;
	text-decoration: none;
}

.footer-widgets  .widget_nav_menu a:hover {
	text-decoration: underline;
	text-decoration-color: #aaa;
}

.footer-widgets .redbubble-logo,
.footer-widgets .spring-logo {
	margin: 12px 16px;
	transition: transform 0.2s ease;
	font-weight: 600;
}

.footer-widgets .spring-logo img {
	filter: invert(50%)
}

.footer-widgets .redbubble-logo:hover,
.footer-widgets .spring-logo:hover {
	transform: scale(1.1);
}

/* Buttons with Icons */
.square-button {
	padding: 1.2em;
	margin: 0 2px;
	border: 0;
	background-color: transparent !important;
	background-position: 50% 50%;
	background-size: 1.9em;
	background-repeat: no-repeat;
	transition: transform 0.2s ease-in-out;
	transform-origin: 50%;
}

.square-button:hover {
	transform: scale(1.25);
}

.menu-email {
	background-image: var(--icon-mail);
}

.menu-search {
	background-size: 1.6em;
	background-image: var(--icon-search);
}

/* Comments section */
.list-comments .comment {
	background: var(--comment-background);
}

/* Blog Post Metadata links */
.entry-header a[href],
.single-entry-header a[href] {
	color: var(--header-link-color);
	transition: color 0.25s;
	text-decoration: none;
}

.entry-header a[href]:hover,
.single-entry-header a[href]:hover {
	color: var(--brand-color);
	text-decoration: underline;
	text-decoration-color: var(--brand-color);
}

.entry-header a[href]:active,
.single-entry-header a[href]:active {
	color: var(--brand-color-dark);
}

/* Add embellishment to last <p> in article */
.single-entry-content p:last-of-type::after {
	font-family: 'icomoon' !important;
	content: "\e902";
	margin-left: 0.5em;
	line-height: 1;
	opacity: 0.5;
}

/* Single Blog Post */
.single-entry-category a {
	font-family: var(--font-secondary);
	font-size: 1.4rem;
	color: #444;
}

.single-entry-category a:hover {
	text-decoration: none !important;
}

/* Author title */
.author-bio-title {
	color: var(--brand-color-dark);
}


/* Page Background embellishments */

/* All pages/post body top background */
.body-top-background {
	position: absolute;
	left: 0;
	top: 0;
	z-index: -1;
	width: 100%;
	height: 15em;
	background-image: var(--body-top-background);
}

/* All pages/posts content bottom background */
.body-bottom-background {
	position: relative;
	z-index: -1;
	width: 100%;
	height: 12em;
	margin-top: -12em;
	background-image: var(--body-bottom-background);
}

/* Pages/single posts with the-content top background */
.page .the-content::before,
.single .the-content::before {
	content: "";
	display: block;
	position: absolute;
	width: 100%;
	height: 12em;
	right: 0;
	background: var(--body-top-background);
	z-index: -1;
	top: 12em;
}

@media (max-width: 850px) {
	.page .the-content::before,
	.single .the-content::before {
		top: -2em;
	}
}

.dark-mode .body-top-background,
.dark-mode .body-bottom-background,
.dark-mode.page .the-content::before,
.dark-mode.single .the-content::before {
	filter: invert(91.8%);
	opacity: 0.9;
}

.dark-mode .breadcrumbs .trail-items {
	background-color: rgba(0,0,0,0.5);
}


/************************ 
Specific Page Styling
************************/

/* Homepage */

/* Homepage tagline introduction text */
.homepage-tagline {
	text-shadow: 2px 2px 0 #000;
	max-width: var(--page-width);
	margin: 0 auto 1em;
}

/* Homepage Main Links */
.homepage-links div a:link {
	font-weight: 600;
	box-shadow: 5px 5px 0 0 rgba(0,0,0,0.3);
	padding: 5px 0;
	text-align: left;
	line-height: 1;
	transition: all 0.4s ease-in-out;
	min-height: 5.5em;
	width: 20em;
}

.homepage-links div a:hover {
	color: var(--brand-color-dark) !important;
	background-color: var(--brand-color-pale) !important;
	filter: brightness(110%);
}

.homepage-links div a:active {
	filter: brightness(90%);
}

.homepage-links div a img {
	filter: drop-shadow(4px 4px 0 rgba(0,0,0,0.1));
	transform: rotate(-5deg);
	float: left;
	margin-right: 15px;
}

.homepage-links div a em {
	font-size: 0.7em;
}

@media (max-width: 800px) {
	.homepage-links div a:link {
		width: 95vw;
		height: auto;
		font-size: 1.3rem !important;
		text-align: center;
	}
	.homepage-links div a img {
		margin: 0;
	}
}

/* Homepage social links */
.home .the-content .wp-block-social-links a {
	font-weight: 700;
	font-size: 1.2em;
	white-space: nowrap;
}

/* Homepage Merch Stores Links */
.merch-stores-links div a {
	font-weight: 600;
	box-shadow: 5px 5px 0 0 rgba(0,0,0,0.2);
}

.merch-stores-links div a:hover {
	color: var(--brand-color-dark) !important;
	background-color: var(--brand-color-pale) !important;
	filter: brightness(110%);
}

.merch-stores-links div a:active {
	filter: brightness(90%);
}

/* Embedded Youtube video */
.home .wp-youtube {
	max-width: 800px;
	margin: 0;
}

.home .embed-youtube {
	border-radius: 1em;
	box-shadow: 0 0 10px 6px rgba(255,255,255,0.5);
	transition: all 0.4s ease !important;
}

.home .embed-youtube:hover {
	border-radius: 0;
}

.home .wp-youtube figcaption {
	color: #c00;
	font-weight: 600;
}

/* Homepage recent posts styling */
.homepage-recent-posts {
	max-width: var(--page-width);
	margin: 0 auto;
}

.homepage-recent-posts a {
	font-weight: 500;
	font-size: 1.3rem;
	color: var(--brand-color);
	text-decoration: underline !important;
	text-decoration-thickness: 2px !important;
	text-decoration-color: var(--brand-color-pale) !important;
}

.homepage-recent-posts a:hover {
	color: var(--brand-color-pale) !important;
	text-decoration-color: var(--brand-color) !important;
}

.homepage-recent-posts time {
	opacity: 0.6;
	font-weight: 500;
	font-size: 0.9rem;
}

.homepage-recent-posts div {
	font-size: 1rem;
}

@media (max-width: 1250px) {
	.homepage-recent-posts {
		margin: 0 0.8em;
	}
}

/* Related posts button */
.related-posts-button {
	margin-top: -1.5em;
}

.related-posts-button div a {
	background: transparent;
	color: initial;
	border-radius: 0.3em;
	border-bottom: 2px solid transparent;
	font-weight: 600;
	transition: all 0.4s ease-in-out !important;
	text-transform: uppercase;
}

.related-posts-button div a:hover {
	color: #fff !important;
	background-color: var(--secondary-color);
	border-bottom-color: rgba(0,0,0,0.4);
}

.related-posts-button div a:active {
	filter: brightness(75%);
}

/* Learn more button */
.learn-more-button .is-style-outline a {
	transition: all 0.2s ease-in-out;
	text-transform: uppercase;
}

.learn-more-button .is-style-outline a:hover {
	background-color: var(--secondary-color) !important;
	border-color: var(--secondary-color) !important;
	color: #fff !important;
}

.learn-more-button .is-style-outline a:active {
	filter: brightness(80%);
}


/* REMLAB page */

/* Right Column */
.remlab-col-aside {
	--remlab: url("data:image/svg+xml,<svg id='patternId' width='100%' height='100%' xmlns='http://www.w3.org/2000/svg'><defs><pattern id='a' patternUnits='userSpaceOnUse' width='29' height='50.115' patternTransform='scale(2) rotate(0)'><rect x='0' y='0' width='100%' height='100%' fill='hsla(0, 0%, 100%, 0)'/><path d='M14.498 16.858L0 8.488.002-8.257l14.5-8.374L29-8.26l-.002 16.745zm0 50.06L0 58.548l.002-16.745 14.5-8.373L29 41.8l-.002 16.744zM28.996 41.8l-14.498-8.37.002-16.744L29 8.312l14.498 8.37-.002 16.745zm-29 0l-14.498-8.37.002-16.744L0 8.312l14.498 8.37-.002 16.745z' stroke-width='1' stroke='hsla(0, 0%, 0%, 0.05)' fill='none'/></pattern></defs><rect width='800%' height='800%' transform='translate(0,0)' fill='url(%23a)'/></svg>");
	border: 2px solid rgba(0,0,0,0.1);
	box-shadow: 3px 3px 7px -1px rgba(0,0,0,0.5) inset;
	border-radius: 8px;
	background-image: var(--remlab);
	background-attachment: fixed;
}

.remlab-col-aside img {
	filter: drop-shadow(1px 1px 3px #aaa);
}

/* Mistletoe page */

/* Right Column */
.mistletoe-col-aside {
	--mistletoe: url("data:image/svg+xml,<svg id='patternId' width='100%' height='100%' xmlns='http://www.w3.org/2000/svg'><defs><pattern id='a' patternUnits='userSpaceOnUse' width='20' height='20' patternTransform='scale(2) rotate(0)'><rect x='0' y='0' width='100%' height='100%' fill='hsla(0, 0%, 100%, 0)'/><path d='M10-10L20 0v10L10 0zM20 0L10-10V0l10 10zm0 10L10 0v10l10 10zm0 10L10 10v10l10 10zM0 20l10-10v10L0 30zm0-10L10 0v10L0 20zM0 0l10-10V0L0 10z'  stroke-width='1' stroke='hsla(0, 0%, 0%, 0.02)' fill='none'/></pattern></defs><rect width='800%' height='800%' transform='translate(0,0)' fill='url(%23a)'/></svg>");
	border: 2px solid rgba(0,0,0,0.1);
	border-radius: 8px;
	background-image: var(--mistletoe);
	background-attachment: fixed;
}

.mistletoe-col-aside figure img[src$='.jpg'] {
	box-shadow: 0 0 8px 1px rgba(0,0,0,0.2) !important;
}

.mistletoe-col-aside figure img[src$='.svg'] {
	margin: 0.5em;
}

/* About page */

/* Right Column */
.trivia-block {
	border: 1px solid #fff;
	box-shadow: 6px 6px 0 0 #888;
	transform: rotate(2deg);
	background-image: repeating-linear-gradient(45deg, rgba(0,0,0,0.04),rgba(0,0,0,0.08),rgba(0,0,0,0.05),rgba(0,0,0,0.04),rgba(0,0,0,0.01),rgba(0,0,0,0.1),rgba(0,0,0,0.09),rgba(0,0,0,0.1),rgba(0,0,0,0.03),transparent,rgba(0,0,0,0.07),rgba(0,0,0,0.03),rgba(0,0,0,0.06) 4px),linear-gradient(90deg, rgb(193, 255, 253),rgb(59, 104, 247));
}

.trivia-block h3 {
	border-bottom: 2px solid #000;
	margin-bottom: -10px !important;
}

.trivia-block ul {
	padding-left: 0.2em;
	list-style: none;
}